{#
 # Licensed under the Apache License, Version 2.0 (the "License");
 # you may not use this file except in compliance with the License.
 # You may obtain a copy of the License at
 #
 # http://www.apache.org/licenses/LICENSE-2.0
 #
 # Unless required by applicable law or agreed to in writing, software
 # distributed under the License is distributed on an "AS IS" BASIS,
 # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 # See the License for the specific language governing permissions and
 # limitations under the License.
-#}
{% extends "email/_base/body.html" %}

{% block content %}
  <h1>{% trans username=username %}Hi {{ username }}!{% endtrans %}</h1>
  <p>
    {% trans blogpost="https://blog.pypi.org/posts/2023-05-25-securing-pypi-with-2fa/" %}
      Earlier this year, <a href="{{ blogpost }}">we announced</a>
      that PyPI would require all users to enable a form of two-factor
      authentication on their accounts by the end of 2023.
    {% endtrans %}
  </p>
  <p>
    {% trans %}
      Keeping your PyPI account secure is important to all of us.
      We encourage you to enable two-factor authentication
      on your PyPI account as soon as possible.
    {% endtrans %}
  </p>

  <h3>
    {% trans %}What forms of 2FA can I use?{% endtrans %}
  </h3>
  <p>
    {% trans %}We currently offer two main forms of 2FA for your
      account:{% endtrans %}
  </p>
  <ul>
    <li>
      {% trans utfkey="https://pypi.org/help/#utfkey" %}
        <a href="{{ utfkey }}">Security device</a> including
        modern browsers (preferred) (e.g. Yubikey, Google Titan)
      {% endtrans %}
    </li>
    <li>
      {% trans totp="https://pypi.org/help/#totp" %}
        <a href="{{ totp }}">Authentication app</a> (e.g. Google Authenticator)
      {% endtrans %}
    </li>
  </ul>
  <p>
    {% trans trusted_publishers="https://docs.pypi.org/trusted-publishers/", api_token="https://pypi.org/help/#apitoken" %}
      Once one of these secure forms is enabled on your account,
      you will also need to use either
      <a href="{{ trusted_publishers }}">Trusted Publishers</a> (preferred) or
      <a href="{{ api_token }}">API tokens</a> to upload to PyPI.
    {% endtrans %}
  </p>

  <h3>
    {% trans %}What do I do if I lose my 2FA device?{% endtrans %}
  </h3>
  <p>
    {% trans %}
      As part of 2FA enrollment, you will receive one-time use recovery codes.
      One of them must be used to confirm receipt before 2FA is fully active.
      <strong>Keep these recovery codes safe</strong> - they are equivalent to
      your 2FA device.
      Should you lose access to your 2FA device, use a recovery code to log in
      and
      swap your 2FA to a new device.
    {% endtrans %}
  </p>
  <p>
    {% trans recovery_codes="https://pypi.org/help/#recoverycodes" %}
      Read more about<a href="{{ recovery_codes }}">recovery codes</a>.
    {% endtrans %}
  </p>

  <h3>
    {% trans %}Why is PyPI requiring 2FA?{% endtrans %}
  </h3>
  <p>
    {% trans %}
      Keeping all users of PyPI is a shared responsibility we take seriously.
      Strong passwords combined with 2FA is a recognized secure practice for
      over a decade.
    {% endtrans %}
  </p>
  <p>
    {% trans %}
      We are requiring 2FA to protect your account and the packages you upload,
      and to protect PyPI itself from malicious actors.
      The most damaging attacks are account takeover and malicious package
      upload.
    {% endtrans %}
  </p>
  <p>
    {% trans account_events="https://pypi.org/manage/account/#account-events" %}
      To see this and other security events for your account,
      visit your <a href="{{ account_events }}">account security history</a>.
    {% endtrans %}
  </p>
  <p>
    {% trans blog_post="https://blog.pypi.org/posts/2023-05-25-securing-pypi-with-2fa/#why-now" %}
      Read more on <a href="{{ blog_post }}">this blog post.</a>
    {% endtrans %}
  </p>
  <p>
    {% trans help_page="https://pypi.org/help/", support_email="mailto:support@pypi.org" %}
      If you run into problems, read the <a href="{{ help_page }}">FAQ page</a>.
      If the solutions there are unable to resolve the issue, contact us via
      <a href="{{ support_email }}">support@pypi.org</a>.
    {% endtrans %}
  </p>
  <p>
    {% trans %}Thanks,{% endtrans %}
    <br/>
    {% trans %}The PyPI Admins{% endtrans %}
  </p>
{% endblock %}

{% block reason %}
  <p>
    {% trans support_mail="mailto:support@pypi.org" %}
      You're receiving this email because you have not yet enabled two-factor
      authentication on your PyPI account.
      If you have enabled 2FA and believe this message is an error,
      please let us know via
      <a href="{{ support_mail }}">support@pypi.org</a>.
    {% endtrans %}
  </p>
{% endblock %}
