/* SPDX-License-Identifier: Apache-2.0 */

@charset "utf-8";

// WAREHOUSE

/*
  This is the primary import file for the CSS for the Warehouse project (PyPI).
  This project uses a variation of the ITCSS system to control CSS inheritance.
  The basic idea is that you should define CSS rules in an order moving
  from generic to specific. This is done so we avoid rules overwriting rules
  overwriting rules overwriting... you get the picture.
  Imports are organised into the seven layers defined below:
*/

// TOOLS LAYER: libraries and mixins
@use "tools/design-utilities";
@use "tools/layout-utilities";
@use "tools/link-utilities";
@use "tools/typography";

// SETTINGS LAYER: settings we use throughout the codebase
@use "settings/breakpoints";
@use "settings/colours";
@use "settings/fonts";
@use "settings/grid";
@use "settings/z-index";

// RESETS LAYER: applies CSS resets and sensible defaults
@use "resets/boxsizing";
@use "~normalize.css/normalize";
@use "resets/reset";

// BASE LAYER: adds styles to anything without a class
@use "base/images-figures";
@use "base/forms";
@use "base/lists";
@use "base/tables";
@use "base/typography" as typography2;

// LAYOUT HELPERS LAYER: reusable layout helpers
@use "layout-helpers/banner";
@use "layout-helpers/columns";
@use "layout-helpers/containers";
@use "layout-helpers/floats";
@use "layout-helpers/left-layout";
@use "layout-helpers/split-layout";
@use "layout-helpers/stick-to-top";

// blocks LAYER: some warehouse specific, some generic/reusable
@use "blocks/about-pypi";
@use "blocks/accordion";
@use "blocks/admin-include";
@use "blocks/applied-filters";
@use "blocks/author-profile";
@use "blocks/badge";
@use "blocks/breadcrumbs";
@use "blocks/button";
@use "blocks/button-group";
@use "blocks/callout-block";
@use "blocks/centered-heading";
@use "blocks/checkbox-tree";
/*rtl:begin:ignore*/
@use "blocks/code-block";
/*rtl:end:ignore*/
@use "blocks/copy-tooltip";
@use "blocks/dark-overlay";
@use "blocks/dropdown";
@use "blocks/faq-group";
@use "blocks/filter-badge";
@use "blocks/filter-panel";
@use "blocks/footer";
@use "blocks/form-errors";
@use "blocks/form-group";
@use "blocks/gravatar-form";
@use "blocks/heading-wsubtitle";
@use "blocks/homepage-banner";
@use "blocks/hooray-list";
@use "blocks/horizontal-menu";
@use "blocks/horizontal-section";
@use "blocks/language-switcher";
@use "blocks/large-input";
@use "blocks/lede-paragraph";
@use "blocks/mobile-search-bar";
@use "blocks/modal";
@use "blocks/notification-bar";
@use "blocks/org-roles";
/*rtl:begin:ignore*/
@use "blocks/organization-snippet";
@use "blocks/package-description";
@use "blocks/package-header";
@use "blocks/package-snippet";
/*rtl:end:ignore*/
@use "blocks/password-strength";
/*rtl:begin:ignore*/
@use "blocks/project-description";
/*rtl:end:ignore*/
@use "blocks/files";
@use "blocks/filter-wheels";
@use "blocks/radio-toggle-form";
@use "blocks/release";
@use "blocks/release-timeline";
@use "blocks/search-form";
@use "blocks/sidebar-section";
@use "blocks/site-header";
@use "blocks/skip-to-content";
@use "blocks/sponsor-grid";
@use "blocks/sponsor-packages";
@use "blocks/sponsors";
@use "blocks/sponsorship-benefits";
@use "blocks/sponsorship-intro";
/*rtl:begin:ignore*/
@use "blocks/status-badge";
/*rtl:end:ignore*/
@use "blocks/statistics-bar";
@use "blocks/table";
/*rtl:begin:ignore*/
@use "blocks/team-snippet";
/*rtl:end:ignore*/
@use "blocks/totp-form";
@use "blocks/twofa-login";
@use "blocks/horizontal-tabs";
@use "blocks/vertical-tabs";
@use "blocks/verified";
@use "blocks/viewport-section";
@use "blocks/copyable";

// TRUMPS LAYER: Overwrites everything else

// RESETS
// Remove all styling from lists
.unstyled {
  padding: 0;
  margin: 0;
  list-style-type: none;
}

// Reset text to default
.reset-text {
  font-size: fonts.$base-font-size;
  font-weight: normal;
}

// TYPE
.break {
  word-break: break-all;
}

.public-email {
  display: inline-block;
  max-width: 85%;
  overflow: hidden;
  position: relative;
  text-overflow: ellipsis;
  top: 3px;
  white-space: nowrap;

  &::after {
    content: none !important;
  }
}

// COLORS
// Make text or icons red to draw attention
.danger {
  color: colours.$danger-color;
}

// ALIGNMENT, PADDING & MARGINS
// Make inline elements centered
.centered {
  text-align: center;
}

// Remove top padding on selected typography elements
.no-top-padding {
  padding-top: 0;
}

// Remove bottom padding on selected typography elements
.no-bottom-padding {
  padding-bottom: 0;
}

// Remove top margin on selected blocks
.no-top-margin {
  margin-top: 0;
}

// Remove bottom margin on selected blocks
.no-bottom-margin {
  margin-bottom: 0;
}

// Remove left margin on selected blocks
.no-left-margin {
  margin-left: 0;
}

// Add small margin to the top of elements
.margin-top {
  margin-top: grid.$quarter-spacing-unit;
}

// Add larger margin to the top of elements
.margin-top--large {
  margin-top: grid.$half-spacing-unit;
}

// Add small margin to the bottom of elements
.margin-bottom {
  margin-bottom: grid.$quarter-spacing-unit;
}

// Add larger margin to the bottom of elements
.margin-bottom--large {
  margin-bottom: grid.$half-spacing-unit;
}

// Add small margin to the left of elements
.margin-left {
  margin-left: grid.$quarter-spacing-unit;
}

// Add larger margin to the left of elements
.margin-left--large {
  margin-left: grid.$half-spacing-unit;
}

// Add small margin to the right of elements
.margin-right {
  margin-right: grid.$quarter-spacing-unit;
}

// Add larger margin to the right of elements
.margin-right--large {
  margin-right: grid.$half-spacing-unit;
}

// Apply spacing between elements when they wrap (usually on mobile)
.wrap-children {
  margin-bottom: -5px;

  > * {
    margin-bottom: 5px;
  }
}

// TITLES
// Adjust size of h1s on standalone pages
.page-title {
  @include typography.h1-title;
}

// Resolve conflict between .page-title and .heading-wsubtitle
.page-title--wsubtitle {
  padding-bottom: 5px;
}

// Add extra padding to subtitles
.sub-title {
  padding-bottom: 25px;
}

// VISIBILITY
.hidden,
.confirm-form {
  display: none;
}

.display-block {
  display: block;
}

// Desktop specific visibility
@media screen and (min-width: breakpoints.$desktop + 1px) {
  .hide-on-desktop {
    display: none;
  }
}

@media screen and (max-width: breakpoints.$desktop) {
  .hide-below-desktop {
    display: none;
  }
}

// Tablet specific visibility
@media screen and (max-width: breakpoints.$tablet) {
  .hide-on-tablet {
    display: none;
  }

  .show-on-tablet {
    display: block;
  }
}

// RTL SUPPORT. See https://rtlcss.com/
/*rtl:begin:ignore*/
// fix padding on split layouts
html[dir="rtl"] .package-snippet .split-layout > :first-child,
html[dir="rtl"] .package-description.split-layout > :first-child {
  padding-left: 0;
  padding-right: grid.$spacing-unit;
}

// Force humanized time to display ltr
// Remove when/if this is marked for translation
time {
  direction: ltr;
}

// force email select to display ltr
// Remove when/if this is marked for translation
#public_email { // stylelint-disable-line selector-id-pattern -- remove when translated
  direction: ltr;
}

// force form errors to display ltr
// Remove when/if these are marked for translation
.form-errors {
  text-align: left;
}
/*rtl:end:ignore*/

// ACCESSIBILITY

/*
  Apply this class to anything you want to hide visually, but that you want
  screen readers to be able to read. Great for extra labels, etc.
*/
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}

// Class for unstyled lists
.no-bullets {
  list-style-type: none;
}
