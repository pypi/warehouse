#!/bin/bash
set -e

# Click requires us to ensure we have a well configured environment to run
# our click commands. So we'll set our environment to ensure our locale is
# correct.
export LC_ALL="${ENCODING:-en_US.UTF-8}"
export LANG="${ENCODING:-en_US.UTF-8}"

# Print all the following commands
set -x

if [ "${READTHEDOCS_PROJECT}" = "warehouse" ]; then make -C docs/dev/ html; mv docs/dev/_build/html _readthedocs/html; fi
if [ "${READTHEDOCS_PROJECT}" = "docspypiorg" ]; then mkdocs build -f mkdocs-user-docs.yml; mv docs/_build/html _readthedocs/html; fi
#make -C docs/dev/ doctest SPHINXOPTS="-W"
#make -C docs/dev/ html SPHINXOPTS="-W"
