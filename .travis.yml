language: python
python: 3.6.6

sudo: required

addons:
  apt:
    packages:
      - docker-ce

services:
  - docker

cache:
  directories:
    - ~/.cache/pip
    - node_modules/

before_install:
  - docker --version
  - docker-compose version

script:
  - make build
  - make tests

matrix:
  include:
    - env:
      - SUITE=Tests
    - name: Linter checks
        - SUITE=Lint
      script: make lint
    - env:
        - SUITE=Documentation
      script: make docs
    - env:
        - SUITE=Dependencies
      script: make travis-deps
    - env:
        - SUITE=Licenses
      script: make licenses

after_success:
  - bash <(curl -s https://codecov.io/bash)
