language: python
python: 3.6.6

sudo: required

addons:
  apt:
    packages:
      - docker-ce

services:
  - docker

cache:
  directories:
    - ~/.cache/pip
    - node_modules/

before_install:
  - docker --version
  - docker-compose version

script:
  - make build
  - make tests

branches:
  except:
    - /^dependabot\//

matrix:
  include:
    - name: Tests
    - name: Lint
      script: make lint
    - name: Documentation
      script: make docs
    - name: Dependencies
      script: make travis-deps
    - name: Licenses
      script: make licenses
